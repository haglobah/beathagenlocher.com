---
import Layout from "../layouts/Layout.astro";

import Il from "../components/InnerLink.astro";
import Ol from "../components/OuterLink.astro";
import BadgeSelection from "../components/BadgeSelection.astro";
import ClampWrapper from "../components/ClampWrapper.astro";
import ItemCutoff from "../components/ItemCutoff.astro";

import Notes from '../content/notes.astro'
import Knowledge from '../content/knowledge.astro'
import Stream from '../content/stream.astro'
import Essays from '../content/essays.astro'
import Talks from '../content/talks.astro'
import {
  allTheContent,
  sortByUpdated, sortByStartDate,
  getTopics
} from '../content/content.ts'

const topics = getTopics(allTheContent)

---

<Layout title="Beat Hagenlochers Digital Garden">
  <div class="f-my-lg f-mx-md">
    <div class="f-pb-lg">
      <p class="f-text-lg f-my-md">
        This is the website of <Il href="me">Beat Hagenlocher</Il> thinking out loud.
      </p>
      <p class="">
        Welcome to my <Ol href="https://maggieappleton.com/garden-history/">digital garden</Ol>, a collection of texts and ideas growing slowly over time.
      </p>
      <p class="f-mt-md">
        I write about all things Software Engineering, learning, personal stuff—and whatever else I find interesting to share.
      </p>
      <p class="">
        Want to learn more? Take a look at what I've written <Il href="thinking-out-loud">about this website</Il>.
      </p>
      <ClampWrapper clampHeight="250">
        <BadgeSelection size="f-text-sm" topics={topics}/>
      </ClampWrapper>
    </div>
    <div class="md:grid md:grid-cols-12 f-gap-xl">
      <div class="md:col-span-12 max-w-lg mx-auto">
        <div class="f-mt-md f-mb-2xl">
          <h2 class="f-text-sm f-pb-4-8 uppercase tracking-[0.17em]">
            <Il href="stream" class="font-bold">The Stream</Il>
          </h2>
          <p class="italic f-text-xs">
            Tiny pieces of thinking, links and knowledge – <Ol href="https://hapgood.us/2015/10/17/the-garden-and-the-stream-a-technopastoral/">streamified.</Ol>
          </p>
        </div>
        <ItemCutoff class="flex flex-col f-mb-2xl" after={5}>
          <Stream />
          <div slot="after-cutoff" class="self-end inline mr-4 z-10">
            <h2 class="f-text-sm f-pb-4-8 uppercase tracking-[0.17em]">
              <Il href="stream" arrow={"left"} class="font-bold">The Stream</Il>
            </h2>
          </div>
        </ItemCutoff>
      </div>

      <div class="md:col-span-7">

        <div class="f-mt-md f-mb-2xl">
          <h2 class="f-text-sm f-pb-4-8 uppercase tracking-[0.17em]">
            <Il href="notes" class="font-bold">Notes</Il>
          </h2>
          <p class="italic f-text-xs">
            Loose thoughts still getting formed
          </p>
        </div>
        <div class="grid sm:grid-cols-2">
          <Notes />
        </div>

        <div class="f-mt-md f-mb-2xl">
          <h2 class="f-text-sm f-pb-4-8 uppercase tracking-[0.17em]">
            <Il href="knowledge" class="font-bold">Knowledge Bits</Il>
          </h2>
          <p class="italic f-text-xs">
            What you always wanted to know
          </p>
        </div>
        <div class="grid sm:grid-cols-4 f-gap-lg">
          <Knowledge />
        </div>

      </div>

      <div class="md:col-span-5">
        <div class="f-mt-md f-mb-2xl">
          <h2 class="f-text-sm f-pb-4-8 uppercase tracking-[0.17em]">
            <Il href="essays" class="font-bold">Atomic Essays</Il>
          </h2>
          <p class="italic f-text-xs">
            Short form writing capturing a single idea
          </p>
        </div>
        <div class="">
          <Essays />
        </div>

      </div>

      <div class="col-span-12">
        <h2 class="f-text-sm f-pb-4-8 uppercase tracking-[0.17em] f-my-md">
          <Il href="talks" class="font-bold">Talks</Il>
        </h2>
        <div class="">
          <Talks />
        </div>
      </div>
    </div>
  </div>
</Layout>

<script>
 import runInteraction from '../components/badgeSelectionInteraction.js'

 runInteraction()
</script>
